---
import Cart from "@/components/Cart.vue";
import ClearHistoryButton from "@/components/ClearHistoryButton.vue";
import ConfirmOrder from "@/components/ConfirmOrder.vue";
import DessertsTab from "@/components/DessertsTab.vue";
import OrderHistory from "@/components/OrderHistory.vue";
import data from "@/data.json";
import Layout from "@/layouts/Layout.astro";
---

<Layout>
  <main class="h-fit min-h-screen w-full space-y-12 bg-rose-50 p-6 text-rose-900 md:p-10 xl:px-28 xl:py-[5.5rem]">
    <div class="flex flex-col gap-8">
      <h1 class="text-preset-1">Desserts</h1>

      <div class="grid grid-cols-1 gap-8 xl:grid-cols-3 xl:items-start">
        <div class="grid grid-cols-1 gap-6 md:grid-cols-3 md:gap-y-8 xl:col-span-2">
          {data.map((dessert) => <DessertsTab client:load {...dessert} />)}
        </div>

        <Cart client:load />
      </div>
    </div>

    <div class="flex flex-col gap-8">
      <div class="flex flex-row items-center gap-8">
        <h1 class="text-preset-1">Order History</h1>
        <ClearHistoryButton client:load />
      </div>
      <OrderHistory client:load />
    </div>

    <ConfirmOrder client:load />
  </main>
</Layout>
